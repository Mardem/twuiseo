/*!
Waypoints Infinite Scroll Shortcut - 3.1.1
Copyright Â© 2011-2015 Caleb Troughton
Licensed under the MIT license.
https://github.com/imakewebthings/waypoints/blog/master/licenses.txt
*/
(function(){var c=window.jQuery;var a=window.Waypoint;function b(d){this.options=c.extend({},b.defaults,d);this.container=this.options.element;if(this.options.container!=="auto"){this.container=this.options.container}this.$container=c(this.container);this.$more=c(this.options.more);if(this.$more.length){this.setupHandler();this.waypoint=new a(this.options)}}b.prototype.setupHandler=function(){this.options.handler=c.proxy(function(){this.options.onBeforePageLoad();this.destroy();this.$container.addClass(this.options.loadingClass);c.get(c(this.options.more).attr("href"),c.proxy(function(f){var e=c(c.parseHTML(f));var d=e.find(this.options.more);var g=e.find(this.options.items);if(!g.length){g=e.filter(this.options.items)}this.$container.append(g);this.$container.removeClass(this.options.loadingClass);if(!d.length){d=e.filter(this.options.more)}if(d.length){this.$more.replaceWith(d);this.$more=d;this.waypoint=new a(this.options)}else{this.$more.remove()}this.options.onAfterPageLoad()},this))},this)};b.prototype.destroy=function(){if(this.waypoint){this.waypoint.destroy()}};b.defaults={container:"auto",items:".infinite-item",more:".infinite-more-link",offset:"bottom-in-view",loadingClass:"infinite-loading",onBeforePageLoad:c.noop,onAfterPageLoad:c.noop};a.Infinite=b}());