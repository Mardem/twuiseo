/*!
Waypoints - 3.1.1
Copyright Â© 2011-2015 Caleb Troughton
Licensed under the MIT license.
https://github.com/imakewebthings/waypoints/blog/master/licenses.txt
*/
(function(){var d=0;var f={};function e(a){if(!a){throw new Error("No options passed to Waypoint constructor")}if(!a.element){throw new Error("No element option passed to Waypoint constructor")}if(!a.handler){throw new Error("No handler option passed to Waypoint constructor")}this.key="waypoint-"+d;this.options=e.Adapter.extend({},e.defaults,a);this.element=this.options.element;this.adapter=new e.Adapter(this.element);this.callback=a.handler;this.axis=this.options.horizontal?"horizontal":"vertical";this.enabled=this.options.enabled;this.triggerPoint=null;this.group=e.Group.findOrCreate({name:this.options.group,axis:this.axis});this.context=e.Context.findOrCreateByElement(this.options.context);if(e.offsetAliases[this.options.offset]){this.options.offset=e.offsetAliases[this.options.offset]}this.group.add(this);this.context.add(this);f[this.key]=this;d+=1}e.prototype.queueTrigger=function(a){this.group.queueTrigger(this,a)};e.prototype.trigger=function(a){if(!this.enabled){return}if(this.callback){this.callback.apply(this,a)}};e.prototype.destroy=function(){this.context.remove(this);this.group.remove(this);delete f[this.key]};e.prototype.disable=function(){this.enabled=false;return this};e.prototype.enable=function(){this.context.refresh();this.enabled=true;return this};e.prototype.next=function(){return this.group.next(this)};e.prototype.previous=function(){return this.group.previous(this)};e.invokeAll=function(a){var b=[];for(var i in f){b.push(f[i])}for(var c=0,j=b.length;c<j;c++){b[c][a]()}};e.destroyAll=function(){e.invokeAll("destroy")};e.disableAll=function(){e.invokeAll("disable")};e.enableAll=function(){e.invokeAll("enable")};e.refreshAll=function(){e.Context.refreshAll()};e.viewportHeight=function(){return window.innerHeight||document.documentElement.clientHeight};e.viewportWidth=function(){return document.documentElement.clientWidth};e.adapters=[];e.defaults={context:window,continuous:true,enabled:true,group:"default",horizontal:false,offset:0};e.offsetAliases={"bottom-in-view":function(){return this.context.innerHeight()-this.adapter.outerHeight()},"right-in-view":function(){return this.context.innerWidth()-this.adapter.outerWidth()}};window.Waypoint=e}());(function(){function k(a){window.setTimeout(a,1000/60)}var l=0;var i={};var g=window.Waypoint;var j=window.onload;function h(a){this.element=a;this.Adapter=g.Adapter;this.adapter=new this.Adapter(a);this.key="waypoint-context-"+l;this.didScroll=false;this.didResize=false;this.oldScroll={x:this.adapter.scrollLeft(),y:this.adapter.scrollTop()};this.waypoints={vertical:{},horizontal:{}};a.waypointContextKey=this.key;i[a.waypointContextKey]=this;l+=1;this.createThrottledScrollHandler();this.createThrottledResizeHandler()}h.prototype.add=function(b){var a=b.options.horizontal?"horizontal":"vertical";this.waypoints[a][b.key]=b;this.refresh()};h.prototype.checkEmpty=function(){var b=this.Adapter.isEmptyObject(this.waypoints.horizontal);var a=this.Adapter.isEmptyObject(this.waypoints.vertical);if(b&&a){this.adapter.off(".waypoints");delete i[this.key]}};h.prototype.createThrottledResizeHandler=function(){var b=this;function a(){b.handleResize();b.didResize=false}this.adapter.on("resize.waypoints",function(){if(!b.didResize){b.didResize=true;g.requestAnimationFrame(a)}})};h.prototype.createThrottledScrollHandler=function(){var b=this;function a(){b.handleScroll();b.didScroll=false}this.adapter.on("scroll.waypoints",function(){if(!b.didScroll||g.isTouch){b.didScroll=true;g.requestAnimationFrame(a)}})};h.prototype.handleResize=function(){g.Context.refreshAll()};h.prototype.handleScroll=function(){var e={};var f={horizontal:{newScroll:this.adapter.scrollLeft(),oldScroll:this.oldScroll.x,forward:"right",backward:"left"},vertical:{newScroll:this.adapter.scrollTop(),oldScroll:this.oldScroll.y,forward:"down",backward:"up"}};for(var x in f){var v=f[x];var a=v.newScroll>v.oldScroll;var c=a?v.forward:v.backward;for(var t in this.waypoints[x]){var u=this.waypoints[x][t];var d=v.oldScroll<u.triggerPoint;var w=v.newScroll>=u.triggerPoint;var y=d&&w;var b=!d&&!w;if(y||b){u.queueTrigger(c);e[u.group.id]=u.group}}}for(var z in e){e[z].flushTriggers()}this.oldScroll={x:f.horizontal.newScroll,y:f.vertical.newScroll}};h.prototype.innerHeight=function(){if(this.element==this.element.window){return g.viewportHeight()}return this.adapter.innerHeight()};h.prototype.remove=function(a){delete this.waypoints[a.axis][a.key];this.checkEmpty()};h.prototype.innerWidth=function(){if(this.element==this.element.window){return g.viewportWidth()}return this.adapter.innerWidth()};h.prototype.destroy=function(){var a=[];for(var b in this.waypoints){for(var d in this.waypoints[b]){a.push(this.waypoints[b][d])}}for(var c=0,e=a.length;c<e;c++){a[c].destroy()}};h.prototype.refresh=function(){var c=this.element==this.element.window;var G=this.adapter.offset();var D={};var y;this.handleScroll();y={horizontal:{contextOffset:c?0:G.left,contextScroll:c?0:this.oldScroll.x,contextDimension:this.innerWidth(),oldScroll:this.oldScroll.x,forward:"right",backward:"left",offsetProp:"left"},vertical:{contextOffset:c?0:G.top,contextScroll:c?0:this.oldScroll.y,contextDimension:this.innerHeight(),oldScroll:this.oldScroll.y,forward:"down",backward:"up",offsetProp:"top"}};for(var A in y){var J=y[A];for(var B in this.waypoints[A]){var z=this.waypoints[A][B];var F=z.options.offset;var I=z.triggerPoint;var H=0;var b=I==null;var f,E,e;var C,a;if(z.element!==z.element.window){H=z.adapter.offset()[J.offsetProp]}if(typeof F==="function"){F=F.apply(z)}else{if(typeof F==="string"){F=parseFloat(F);if(z.options.offset.indexOf("%")>-1){F=Math.ceil(J.contextDimension*F/100)}}}f=J.contextScroll-J.contextOffset;z.triggerPoint=H+f-F;E=I<J.oldScroll;e=z.triggerPoint>=J.oldScroll;C=E&&e;a=!E&&!e;if(!b&&C){z.queueTrigger(J.backward);D[z.group.id]=z.group}else{if(!b&&a){z.queueTrigger(J.forward);D[z.group.id]=z.group}else{if(b&&J.oldScroll>=z.triggerPoint){z.queueTrigger(J.forward);D[z.group.id]=z.group}}}}}for(var d in D){D[d].flushTriggers()}return this};h.findOrCreateByElement=function(a){return h.findByElement(a)||new h(a)};h.refreshAll=function(){for(var a in i){i[a].refresh()}};h.findByElement=function(a){return i[a.waypointContextKey]};window.onload=function(){if(j){j()}h.refreshAll()};g.requestAnimationFrame=function(a){var b=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||k;b.call(window,a)};g.Context=h}());(function(){function h(a,b){return a.triggerPoint-b.triggerPoint}function i(a,b){return b.triggerPoint-a.triggerPoint}var g={vertical:{},horizontal:{}};var f=window.Waypoint;function j(a){this.name=a.name;this.axis=a.axis;this.id=this.name+"-"+this.axis;this.waypoints=[];this.clearTriggerQueues();g[this.axis][this.name]=this}j.prototype.add=function(a){this.waypoints.push(a)};j.prototype.clearTriggerQueues=function(){this.triggerQueues={up:[],down:[],left:[],right:[]}};j.prototype.flushTriggers=function(){for(var b in this.triggerQueues){var a=this.triggerQueues[b];var d=b==="up"||b==="left";a.sort(d?i:h);for(var c=0,e=a.length;c<e;c+=1){var m=a[c];if(m.options.continuous||c===a.length-1){m.trigger([b])}}}this.clearTriggerQueues()};j.prototype.next=function(c){this.waypoints.sort(h);var b=f.Adapter.inArray(c,this.waypoints);var a=b===this.waypoints.length-1;return a?null:this.waypoints[b+1]};j.prototype.previous=function(b){this.waypoints.sort(h);var a=f.Adapter.inArray(b,this.waypoints);return a?this.waypoints[a-1]:null};j.prototype.queueTrigger=function(b,a){this.triggerQueues[a].push(b)};j.prototype.remove=function(b){var a=f.Adapter.inArray(b,this.waypoints);if(a>-1){this.waypoints.splice(a,1)}};j.prototype.first=function(){return this.waypoints[0]};j.prototype.last=function(){return this.waypoints[this.waypoints.length-1]};j.findOrCreate=function(a){return g[a.axis][a.name]||new j(a)};f.Group=j}());(function(){var f=window.Zepto;var e=window.Waypoint;function d(a){this.element=a;this.$element=f(a)}f.each(["off","on","scrollLeft","scrollTop"],function(b,a){d.prototype[a]=function(){var c=Array.prototype.slice.call(arguments);return this.$element[a].apply(this.$element,c)}});d.prototype.offset=function(){if(this.element!==this.element.window){return this.$element.offset()}};f.each(["width","height"],function(i,a){function j(h,g){return function(p){var q=this.$element;var o=q[a]();var r={width:["left","right"],height:["top","bottom"]};f.each(r[a],function(k,l){o+=parseInt(q.css("padding-"+l),10);if(g){o+=parseInt(q.css("border-"+l+"-width"),10)}if(p){o+=parseInt(q.css("margin-"+l),10)}});return o}}var b=f.camelCase("inner-"+a);var c=f.camelCase("outer-"+a);d.prototype[b]=j(false);d.prototype[c]=j(true)});f.each(["extend","inArray"],function(b,a){d[a]=f[a]});d.isEmptyObject=function(a){for(var b in a){return false}return true};e.adapters.push({name:"zepto",Adapter:d});e.Adapter=d}());(function(){var d=window.Waypoint;function c(a){return function(){var b=[];var f=arguments[0];if(a.isFunction(arguments[0])){f=a.extend({},arguments[1]);f.handler=arguments[0]}this.each(function(){var e=a.extend({},f,{element:this});if(typeof e.context==="string"){e.context=a(this).closest(e.context)[0]}b.push(new d(e))});return b}}if(window.jQuery){window.jQuery.fn.waypoint=c(window.jQuery)}if(window.Zepto){window.Zepto.fn.waypoint=c(window.Zepto)}}());