/*!
Waypoints Infinite Scroll Shortcut - 3.1.1
Copyright Â© 2011-2015 Caleb Troughton
Licensed under the MIT license.
https://github.com/imakewebthings/waypoints/blog/master/licenses.txt
*/
(function(){var f=window.jQuery;var e=window.Waypoint;function d(a){this.options=f.extend({},d.defaults,a);this.container=this.options.element;if(this.options.container!=="auto"){this.container=this.options.container}this.$container=f(this.container);this.$more=f(this.options.more);if(this.$more.length){this.setupHandler();this.waypoint=new e(this.options)}}d.prototype.setupHandler=function(){this.options.handler=f.proxy(function(){this.options.onBeforePageLoad();this.destroy();this.$container.addClass(this.options.loadingClass);f.get(f(this.options.more).attr("href"),f.proxy(function(b){var c=f(f.parseHTML(b));var h=c.find(this.options.more);var a=c.find(this.options.items);if(!a.length){a=c.filter(this.options.items)}this.$container.append(a);this.$container.removeClass(this.options.loadingClass);if(!h.length){h=c.filter(this.options.more)}if(h.length){this.$more.replaceWith(h);this.$more=h;this.waypoint=new e(this.options)}else{this.$more.remove()}this.options.onAfterPageLoad()},this))},this)};d.prototype.destroy=function(){if(this.waypoint){this.waypoint.destroy()}};d.defaults={container:"auto",items:".infinite-item",more:".infinite-more-link",offset:"bottom-in-view",loadingClass:"infinite-loading",onBeforePageLoad:f.noop,onAfterPageLoad:f.noop};e.Infinite=d}());